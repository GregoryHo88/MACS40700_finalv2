{
  "hash": "cbfba0570e0c0e826bd38ac30229fb07",
  "result": {
    "markdown": "# Multidimensional Poverty\n\n\n\n\n\nThe starting point of constructing a Multidimensional Poverty Indicator would be the generation of a matrix representing tract areas versus indicators of deprivation.\n\nTo generate this matrix, the first step is to identify dimensions of deprivation that can be constructed using the ACS. These are:\n\n1.  Income - percentage below poverty level\n\n2.  Income - percentage receiving public assistance\n\n3.  Education - percentage of kids not enrolled in school\n\n4.  Education - percentage of Youth Not Attending School and Not Working\n\n5.  Education - Percentage of adults 25 above that did not finish schooling\n\n6.  Health - percentage of adults without health insurance\n\n7.  Health - percentage of children with disability status\n\n8.  Health - percentage of adults with disability status\n\n9.  Housing - percentage overcrowded: more than 2 occupants per room\n\n10. Housing - percentage cost-burdened\n\n11. Living Conditions - percentage without plumbing facilities\n\n12. Living Conditions - percentage without kitchen facilities\n\n13. Digitalization - percentage without computer\n\n14. Digitalization - percentage without internet access\n\n15. Digitalization - percentage internet access without subscription\n\n16. Employment - percent unemployed\n\n17. Employment - percent not in labor force\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndeprivation_percentages <- chicago_data_deprivation %>%\n  mutate(\n    # Income\n    #Pct_Below_Poverty = (total_below_povertyE / poverty_totalE) * 100,\n    Pct_Receiving_PA = (total_recieve_paE / recieve_pa_totalE) * 100,\n    \n    # Education\n    Pct_Kids_Not_In_School = (kids_Not_In_SchoolE / kids_totalE) * 100,\n    Pct_Youth_Not_In_School_Not_Working = ((youth_male_xschool_unemployedE + youth_male_xschool_xlfE + \n                                            youth_female_xschool_unemployedE + youth_female_xschool_xlfE) / youth_totalE) * 100,\n    Pct_Adults_No_HighSchool = ((abv25_no_schoolE + abv25_nurseryE + abv25_kindergartenE + abv25_g1E + \n                                 abv25_g2E + abv25_g3E + abv25_g4E + abv25_g5E + abv25_g6E + \n                                 abv25_g7E + abv25_g8E + abv25_g9E + abv25_g10E + abv25_g11E + \n                                 abv25_g12E) / total_abv25E) * 100,\n    \n    # Health\n    Pct_Disabled = ((dis_male_4E + dis_male_5_17E + dis_male_18_34E + dis_male_35_64E + \n                     dis_male_65_74E + dis_male_75E + dis_female_4E + dis_female_5_17E + \n                     dis_female_18_34E + dis_female_35_64E + dis_female_65_74E + \n                     dis_female_75E) / dis_totalE) * 100,\n    Pct_No_Insurance = ((no_ins_dis_18E + no_ins_xdis_18E + no_ins_dis_19_64E + \n                         no_ins_xdis_19_64E + no_ins_dis_65E + no_ins_xdis_65E) / ins_totalE) * 100,\n    \n    # Housing\n    Pct_Overcrowded_Housing = ((Overcrowded_Housing_ownE + Overcrowded_Housing_rentE) / housing_totalE) * 100,\n    Pct_Cost_Burdened_Housing = ((cost_burdened_housing_30_35E + cost_burdened_housing_35_40E + \n                                  cost_burdened_housing_40_50E + cost_burdened_housing_50_aboveE) / \n                                  cost_burdened_housing_totalE) * 100,\n    \n    # Living Conditions\n    Pct_No_Plumbing = (no_plumbingE / total_housing_plumbingE) * 100,\n    Pct_No_Kitchen = ((no_kitchen_ownE + no_kitchen_rentE) / total_housing_kitchenE) * 100,\n    \n    # Digital Divide\n    Pct_No_Computer = (no_computerE / total_householdsE) * 100,\n    Pct_No_Internet = (no_internetE / total_householdsE) * 100,\n    Pct_Internet_No_Subscription = (internet_no_subscriptionE / total_householdsE) * 100,\n    \n    # Employment\n    Pct_Unemployed = (unemployedE / workforce_totalE) * 100,\n    Pct_Not_In_Labor_Force = (not_in_labor_forceE / pop_employment_totalE) * 100\n  ) %>%\n  select(GEOID, starts_with(\"Pct_\"))  # Keep only GEOID and calculated percentages\n```\n:::\n\n\n# Deprivation Cutoffs\n\nIntermediete Step here\n\n# Exploratory Factor Analysis\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(psych)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: package 'psych' was built under R version 4.2.3\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n\nAttaching package: 'psych'\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nThe following objects are masked from 'package:ggplot2':\n\n    %+%, alpha\n```\n:::\n\n```{.r .cell-code}\n# Exclude non-numeric variables if any\ndeprivation_factors <- deprivation_percentages %>% \n  select(-GEOID) %>%  # Exclude GEOID or any other non-numeric variables\n  select_if(is.numeric)  # Select only numeric columns\n\n# Check for NA values and decide on handling strategy\nsummary(deprivation_factors)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n Pct_Receiving_PA Pct_Kids_Not_In_School Pct_Youth_Not_In_School_Not_Working\n Min.   : 0.000   Min.   :11.93          Min.   :  0.000                    \n 1st Qu.: 1.048   1st Qu.:71.68          1st Qu.:  0.000                    \n Median : 2.371   Median :75.69          Median :  0.000                    \n Mean   : 3.301   Mean   :75.33          Mean   :  2.632                    \n 3rd Qu.: 4.700   3rd Qu.:80.09          3rd Qu.:  0.000                    \n Max.   :21.964   Max.   :97.30          Max.   :100.000                    \n NA's   :4        NA's   :4              NA's   :25                         \n Pct_Adults_No_HighSchool  Pct_Disabled     Pct_No_Insurance\n Min.   : 0.000           Min.   : 0.3284   Min.   : 0.000  \n 1st Qu.: 4.378           1st Qu.: 7.4678   1st Qu.: 3.944  \n Median : 9.984           Median :10.1953   Median : 7.590  \n Mean   :12.407           Mean   :11.4048   Mean   : 8.976  \n 3rd Qu.:17.967           3rd Qu.:14.3950   3rd Qu.:12.783  \n Max.   :52.635           Max.   :37.9172   Max.   :41.686  \n NA's   :4                NA's   :4         NA's   :4       \n Pct_Overcrowded_Housing Pct_Cost_Burdened_Housing Pct_No_Plumbing  \n Min.   :0.0000          Min.   :  0.00            Min.   : 0.0000  \n 1st Qu.:0.0000          1st Qu.: 34.68            1st Qu.: 0.0000  \n Median :0.0000          Median : 45.13            Median : 0.6113  \n Mean   :0.3091          Mean   : 45.73            Mean   : 2.1149  \n 3rd Qu.:0.0000          3rd Qu.: 56.67            3rd Qu.: 2.5272  \n Max.   :7.5419          Max.   :100.00            Max.   :39.0738  \n NA's   :4               NA's   :7                 NA's   :4        \n Pct_No_Kitchen    Pct_No_Computer  Pct_No_Internet \n Min.   : 0.0000   Min.   : 0.000   Min.   : 0.000  \n 1st Qu.: 0.0000   1st Qu.: 2.820   1st Qu.: 4.194  \n Median : 0.0000   Median : 5.722   Median : 8.173  \n Mean   : 0.7670   Mean   : 7.104   Mean   :10.065  \n 3rd Qu.: 0.8996   3rd Qu.: 9.988   3rd Qu.:14.204  \n Max.   :13.8008   Max.   :40.765   Max.   :45.918  \n NA's   :4         NA's   :4        NA's   :4       \n Pct_Internet_No_Subscription Pct_Unemployed   Pct_Not_In_Labor_Force\n Min.   : 0.0000              Min.   : 0.000   Min.   : 5.971        \n 1st Qu.: 0.6063              1st Qu.: 3.571   1st Qu.:28.549        \n Median : 1.7697              Median : 6.085   Median :34.457        \n Mean   : 2.7185              Mean   : 8.300   Mean   :34.365        \n 3rd Qu.: 3.8625              3rd Qu.:10.737   3rd Qu.:40.961        \n Max.   :21.9839              Max.   :47.742   Max.   :94.788        \n NA's   :4                    NA's   :4        NA's   :4             \n```\n:::\n\n```{.r .cell-code}\nfa_result <- fa(deprivation_factors, nfactors = 5, rotate = \"varimax\", fm = \"minres\")\n\n# Print the factor analysis results\nprint(fa_result)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nFactor Analysis using method =  minres\nCall: fa(r = deprivation_factors, nfactors = 5, rotate = \"varimax\", \n    fm = \"minres\")\nStandardized loadings (pattern matrix) based upon correlation matrix\n                                      MR2   MR4   MR1   MR5   MR3    h2     u2\nPct_Receiving_PA                     0.19  0.41  0.13  0.10 -0.03 0.237 0.7629\nPct_Kids_Not_In_School              -0.11 -0.01 -0.08  0.05  0.83 0.702 0.2979\nPct_Youth_Not_In_School_Not_Working  0.04  0.21  0.09 -0.03  0.17 0.084 0.9157\nPct_Adults_No_HighSchool             0.87  0.19  0.23  0.14 -0.03 0.862 0.1381\nPct_Disabled                        -0.02  0.46  0.66  0.20  0.17 0.720 0.2796\nPct_No_Insurance                     0.71  0.20  0.03  0.03  0.00 0.551 0.4493\nPct_Overcrowded_Housing              0.29  0.01  0.00  0.09 -0.03 0.092 0.9084\nPct_Cost_Burdened_Housing            0.15  0.28  0.30  0.17 -0.12 0.236 0.7643\nPct_No_Plumbing                      0.05  0.54  0.13  0.10  0.04 0.320 0.6802\nPct_No_Kitchen                       0.03  0.13  0.14  0.10  0.08 0.053 0.9465\nPct_No_Computer                      0.27  0.21  0.30  0.89  0.03 0.997 0.0025\nPct_No_Internet                      0.35  0.35  0.35  0.61  0.05 0.752 0.2477\nPct_Internet_No_Subscription         0.08  0.15  0.11  0.02  0.04 0.041 0.9587\nPct_Unemployed                       0.09  0.70  0.20  0.24 -0.09 0.605 0.3947\nPct_Not_In_Labor_Force               0.11  0.25  0.72  0.25 -0.21 0.690 0.3098\n                                    com\nPct_Receiving_PA                    1.8\nPct_Kids_Not_In_School              1.1\nPct_Youth_Not_In_School_Not_Working 2.5\nPct_Adults_No_HighSchool            1.3\nPct_Disabled                        2.2\nPct_No_Insurance                    1.2\nPct_Overcrowded_Housing             1.2\nPct_Cost_Burdened_Housing           3.5\nPct_No_Plumbing                     1.2\nPct_No_Kitchen                      3.5\nPct_No_Computer                     1.6\nPct_No_Internet                     3.0\nPct_Internet_No_Subscription        2.6\nPct_Unemployed                      1.5\nPct_Not_In_Labor_Force              1.8\n\n                       MR2  MR4  MR1  MR5  MR3\nSS loadings           1.64 1.64 1.42 1.42 0.82\nProportion Var        0.11 0.11 0.09 0.09 0.05\nCumulative Var        0.11 0.22 0.31 0.41 0.46\nProportion Explained  0.24 0.24 0.20 0.20 0.12\nCumulative Proportion 0.24 0.47 0.68 0.88 1.00\n\nMean item complexity =  2\nTest of the hypothesis that 5 factors are sufficient.\n\ndf null model =  105  with the objective function =  4.6 with Chi Square =  6101.43\ndf of  the model are 40  and the objective function was  0.09 \n\nThe root mean square of the residuals (RMSR) is  0.02 \nThe df corrected root mean square of the residuals is  0.03 \n\nThe harmonic n.obs is  1325 with the empirical chi square  85.88  with prob <  3.4e-05 \nThe total n.obs was  1332  with Likelihood Chi Square =  115.98  with prob <  2.5e-09 \n\nTucker Lewis Index of factoring reliability =  0.967\nRMSEA index =  0.038  and the 90 % confidence intervals are  0.03 0.046\nBIC =  -171.8\nFit based upon off diagonal values = 1\nMeasures of factor score adequacy             \n                                                   MR2  MR4  MR1  MR5  MR3\nCorrelation of (regression) scores with factors   0.92 0.80 0.82 0.98 0.85\nMultiple R square of scores with factors          0.85 0.65 0.66 0.96 0.72\nMinimum correlation of possible factor scores     0.71 0.30 0.33 0.93 0.44\n```\n:::\n\n```{.r .cell-code}\nprint(fa_result$values)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n [1]  4.085341333  1.108575875  0.826211308  0.597304147  0.327840052\n [6]  0.144707267  0.082097939  0.053076216  0.025620213  0.021642830\n[11] -0.009223714 -0.043425297 -0.052486179 -0.070706753 -0.153102481\n```\n:::\n\n```{.r .cell-code}\n# Plot the factor loadings for a visual representation\nfa.diagram(fa_result)\n```\n\n::: {.cell-output-display}\n![](multidimensional_poverty_files/figure-html/factor-1.png){width=672}\n:::\n\n```{.r .cell-code}\n# Parallel\nfa.parallel(deprivation_factors, fm = \"minres\", fa = \"fa\")\n```\n\n::: {.cell-output-display}\n![](multidimensional_poverty_files/figure-html/factor-2.png){width=672}\n:::\n\n::: {.cell-output .cell-output-stdout}\n```\nParallel analysis suggests that the number of factors =  5  and the number of components =  NA \n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# Examine factor loadings\nloadings <- fa_result$loadings\n\n# Print factor loadings for interpretation\nprint(loadings)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\nLoadings:\n                                    MR2    MR4    MR1    MR5    MR3   \nPct_Receiving_PA                     0.193  0.414  0.131              \nPct_Kids_Not_In_School              -0.106                       0.826\nPct_Youth_Not_In_School_Not_Working         0.212                0.168\nPct_Adults_No_HighSchool             0.868  0.189  0.225  0.143       \nPct_Disabled                                0.465  0.659  0.200  0.173\nPct_No_Insurance                     0.714  0.199                     \nPct_Overcrowded_Housing              0.285                            \nPct_Cost_Burdened_Housing            0.147  0.280  0.301  0.173 -0.123\nPct_No_Plumbing                             0.538  0.130  0.100       \nPct_No_Kitchen                              0.127  0.143  0.102       \nPct_No_Computer                      0.274  0.208  0.300  0.888       \nPct_No_Internet                      0.350  0.354  0.352  0.615       \nPct_Internet_No_Subscription                0.149  0.107              \nPct_Unemployed                              0.702  0.202  0.236       \nPct_Not_In_Labor_Force               0.106  0.246  0.716  0.248 -0.211\n\n                 MR2   MR4   MR1   MR5   MR3\nSS loadings    1.643 1.636 1.423 1.418 0.824\nProportion Var 0.110 0.109 0.095 0.095 0.055\nCumulative Var 0.110 0.219 0.313 0.408 0.463\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# Calculate factor scores for each unit of analysis\nfactor_scores <- factor.scores(deprivation_percentages[-1], fa_result)$scores  # Excluding 'GEOID' for calculation\n\n# Convert the factor scores into a data frame\nfactor_scores_df <- as.data.frame(factor_scores)\n\n# Add the 'GEOID' back to the factor scores data frame\nfactor_scores_df$GEOID <- deprivation_percentages$GEOID\n\n# View the head of the factor scores data frame\nhead(factor_scores_df)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n         MR2         MR4        MR1         MR5        MR3       GEOID\n1  0.1218242  0.73414510 -0.7521446 -0.07270834  1.6510993 17031010100\n2  0.8293460 -0.74058076 -0.1762981  0.64774589 -1.4483041 17031010201\n3  0.6194043  0.03677482  0.5746899 -1.01599898  0.4630609 17031010202\n4  0.3556673 -0.10069391  0.4394115 -1.22090602  1.4988615 17031010300\n5 -1.2584417 -1.22838571  0.9470750  1.88082056 -2.4596329 17031010400\n6 -1.1159884  0.81837396 -0.4993244 -0.01319102  0.9467878 17031010501\n```\n:::\n:::\n",
    "supporting": [
      "multidimensional_poverty_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}